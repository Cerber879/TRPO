**Дата:** 20 сентября 2023 г.

**Статус:** Принято

**Контекст:**

Для обеспечения качества и надежности системы поиска и рекомендаций ресторанов необходимо выбрать инструменты автоматического тестирования. Тестирование должно покрывать различные уровни системы: unit-тесты для отдельных компонентов, integration-тесты для проверки взаимодействия модулей, и end-to-end тесты для проверки пользовательских сценариев.

**Рассмотренные варианты:**

1. **JUnit 5 + MockK (Kotlin):** Стандартный фреймворк для unit-тестирования в экосистеме JVM. MockK - библиотека для мокирования в Kotlin.
2. **TestNG:** Альтернатива JUnit с расширенными возможностями группировки тестов и параллельного выполнения.
3. **Jest + React Testing Library (Frontend):** Популярный стек для тестирования React-приложений с фокусом на тестирование компонентов.
4. **Cypress / Playwright:** Инструменты для end-to-end тестирования веб-приложений с возможностью автоматизации браузера.

**Решение:**

Выбран стек JUnit 5 + MockK для backend-тестирования и Jest + React Testing Library для frontend-тестирования. Для E2E-тестирования выбран Playwright.

**Обоснование:**

- **Стандартность:** JUnit 5 является стандартом для тестирования в Java/Kotlin экосистеме, широко поддерживается IDE и инструментами сборки.
- **Интеграция с Kotlin:** MockK специально разработан для Kotlin и обеспечивает удобный синтаксис для мокирования.
- **Простота использования:** Jest и React Testing Library просты в освоении и хорошо интегрируются с React-приложениями.
- **E2E-тестирование:** Playwright обеспечивает надежное кросс-браузерное тестирование и хорошую поддержку современных веб-стандартов.
- **Бесплатность:** Все выбранные инструменты открытого исходного кода и бесплатны для использования.

**Недостатки решения:**

- **Ограниченное покрытие:** Для полноценного тестирования может потребоваться дополнительное время на написание тестов.
- **Настройка E2E:** Playwright требует настройки окружения и может быть сложен для начинающих.

**Последствия:**

- Необходимо настроить структуру тестов для backend (unit и integration тесты) и frontend (компонентные тесты).
- Требуется определить минимальный уровень покрытия кода тестами (рекомендуется не менее 70% для критических модулей).
- Необходимо интегрировать запуск тестов в процесс сборки проекта.
- Рекомендуется писать тесты параллельно с разработкой функциональности (TDD подход где возможно).

